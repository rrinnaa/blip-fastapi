# blip-fastapi
Данный проект использует FastAPI-приложение, которое выполняет роль сервера обработки изображений и текста. Основная задача сервера — принимать фотографии, присылаемые с Android-приложения, обрабатывать их с помощью модели BLIP2 для генерации краткого описания, переводить текст на русский язык при необходимости и возвращать результат обратно на устройство.
Код Android-приложения берется из соответствующего репозитория и реализует пользовательский интерфейс, работу с камерой, отправку фотографий на FastAPI-сервер и озвучивание полученных описаний. Таким образом, сервер и мобильное приложение взаимодействуют по архитектуре клиент-сервер, где Android — клиент, а FastAPI — сервер, выполняющий вычислительно сложные операции.

# Ссылка на репозиторий с кодом Android-приложения:

# Что делает этот проект

Загружает модель BLIP-2 (Salesforce/blip2-flan-t5-xl) для генерации подписи к изображению.

Коротко описывает только видимые объекты (не делает предположений о местоположении, эмоциях, действиях и т.д.).

Переводит результат на русский с помощью facebook/m2m100_418M.

Экспонируется через один POST-эндпоинт /describe.

# Требования (Prerequisites)
* Python 3.10+ (рекомендую 3.10 или 3.11)
* Git
* Доступ в интернет при первом запуске (для скачивания моделей)
* Свободное место: модели BLIP-2 и M2M100 занимают несколько ГБ — учитывайте это при запуске

# Рекомендуемая структура репозитория

blip_fastapi/

├─ app.py

├─ requirements.txt

├─ .gitignore

└─ README.md


# Установка (локально)

Создайте и активируйте виртуальное окружение:

### Windows
python -m venv .venv
### macOS / Linux
python3 -m venv .venv

### macOS / Linux
source .venv/bin/activate
### Windows (PowerShell)
.venv\Scripts\Activate.ps1

# Установите зависимости (предлагается создать requirements.txt, пример ниже):

 fastapi
 
 uvicorn[standard]
 
 transformers
 
 torch
 
 Pillow

Установите их командой:

pip install -r requirements.txt

Или без создания файла: pip install fastapi uvicorn[standard] transformers torch Pillow

Если используете GPU (CUDA) — установите совместимую версию torch с поддержкой CUDA согласно официальной инструкции на https://pytorch.org.
Для Apple Silicon (M1/M2/M3/M4) можно установить torch с поддержкой mps по официальной инструкции.

# Запуск сервера

Запустить сервер с uvicorn:

uvicorn app:app --host 0.0.0.0 --port 8000

### После запуска сервера можно будет перейти к работе с Android-приложением.
